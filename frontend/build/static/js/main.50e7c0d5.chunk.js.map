{"version":3,"sources":["images/Logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","images/Pen.svg","images/Avatar.jpg","components/Main.js","components/Login.js","components/Register.js","components/Footer.js","components/PopupWithForm.js","components/DeletePlacePopup.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","images/RegOk.svg","images/RegErr.svg","components/InfoTooltip.js","utils/api.js","utils/constants.js","utils/apiAuth.js","components/ProtectedRoute.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","isLoggedIn","onLogOut","email","className","src","logo","alt","to","onClick","path","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","setCardDelete","onDeleteCardPopupOpen","currentUser","useContext","isOwner","owner","_id","isLiked","likes","some","like","cardDeleteButtonClassName","cardLikeButtonClassName","type","link","name","length","Main","onEditAvatar","onEditProfile","onEditPlace","cards","avatar","Avatar","Pen","about","map","cardElement","Login","onLogin","useState","password","stateInput","setStateInput","handleChangeInput","e","target","value","onSubmit","preventDefault","noValidate","id","placeholder","minLength","maxLength","onChange","required","Register","onRegister","Footer","PopupWithForm","isOpen","onClose","title","children","isLoading","buttonSubmitName","buttonSubmitNameDel","DeletePlacePopup","onDeleteCard","ImagePopup","EditProfilePopup","onUpdateUser","useEffect","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","onAddPlaceSubmit","stateInputs","setStateInputs","InfoTooltip","isInfoTooltipOk","RegOk","RegErr","api","options","this","_addressApi","addressApi","_headers","headers","endOfUrl","param","credentials","fetch","then","res","ok","json","Promise","reject","status","_setConfigApi","data","method","body","JSON","stringify","Accept","BASE_URL","checkResponse","response","Error","statusText","ProtectedRoute","Component","component","props","App","history","useHistory","setIsLoggedIn","isInfoTooltip","setIsInfoTooltip","setIsInfoTooltipOk","isUserEmail","setIsUserEmail","setCards","setCurrentUser","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","cardDelete","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isDeletePlacePopupOpen","setIsDeletePlacePopupOpen","selectedCard","setSelectedCard","setIsLoading","closeAllPopups","tokenCheck","localStorage","getItem","userInfo","getInitialCards","catch","err","console","log","push","Provider","onKeyDown","key","tabIndex","matches","removeItem","apiAuth","token","setItem","exact","putOrRemoveLike","newCard","cardItem","newAvatar","editAvatar","finally","editProfile","addNewCard","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.50e7c0d5.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Logo.1f1e9591.svg\";","import React from \"react\";\nimport { Link, Route, Switch } from \"react-router-dom\";\nimport logo from \"../images/Logo.svg\";\n\nfunction Header({ isLoggedIn, onLogOut, email }) {\n  return (\n    <header className=\"header\">\n      <img\n        className=\"header__logo\"\n        src={logo}\n        alt=\"Логотип названия сайта Место\"\n      />\n      {isLoggedIn ? (\n        <p className={`header__text`}>\n          {email}\n          <Link\n            className={`header__text header__text_link`}\n            to={\"/signin\"}\n            onClick={onLogOut}\n          >\n            Выйти\n          </Link>\n        </p>\n      ) : (\n        <Switch>\n          <Route path={\"/signin\"}>\n            <Link className={`header__text`} to={\"/signup\"}>\n              Регистрация\n            </Link>\n          </Route>\n          <Route path={\"/signup\"}>\n            <Link className={`header__text`} to={\"/signin\"}>\n              Вход\n            </Link>\n          </Route>\n        </Switch>\n      )}\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react'\n\nexport const CurrentUserContext = React.createContext();\n","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\n\nfunction Card({\n  card,\n  onCardClick,\n  onCardLike,\n  setCardDelete,\n  onDeleteCardPopupOpen,\n}) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const isOwner = card.owner._id === currentUser._id;\n  const isLiked = card.likes.some((like) => like._id === currentUser._id);\n\n  const cardDeleteButtonClassName = `element__trash ${\n    isOwner ? \"element__trash_visible\" : \"\"\n  }`;\n  const cardLikeButtonClassName = `element__like ${\n    isLiked ? \"element__like_active\" : \"\"\n  }`;\n\n  function handleCardClick() {\n    onCardClick(card);\n  }\n\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n\n  function handleDeleteClick() {\n    setCardDelete(card);\n    onDeleteCardPopupOpen();\n  }\n  return (\n    <li className=\"element\">\n      <button\n        type=\"button\"\n        onClick={handleDeleteClick}\n        className={cardDeleteButtonClassName}\n      ></button>\n      <img\n        onClick={handleCardClick}\n        className=\"element__image element__image_popup_open\"\n        src={card.link}\n        alt={`Фото: ${card.name}`}\n      />\n      <div className=\"element__card\">\n        <h2 className=\"element__title\">{card.name}</h2>\n        <div className=\"element__likes-group\">\n          <button\n            type=\"button\"\n            onClick={handleLikeClick}\n            className={cardLikeButtonClassName}\n          ></button>\n          <p className=\"element__like-counter\">{card.likes.length}</p>\n        </div>\n      </div>\n    </li>\n  );\n}\n\nexport default Card;\n","export default __webpack_public_path__ + \"static/media/Pen.a086f758.svg\";","export default __webpack_public_path__ + \"static/media/Avatar.50a0dcfd.jpg\";","import React from \"react\";\nimport Card from \"./Card.js\";\nimport Pen from \"../images/Pen.svg\";\nimport Avatar from \"../images/Avatar.jpg\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\n\nfunction Main({\n  onEditAvatar,\n  onEditProfile,\n  onEditPlace,\n  onCardClick,\n  cards,\n  onCardLike,\n  setCardDelete,\n  onDeleteCardPopupOpen,\n}) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"main\">\n      <section className=\"profile\">\n        <div className=\"profile__avatar-block\">\n          <img\n            className=\"profile__avatar\"\n            src={currentUser.avatar || Avatar}\n            alt=\"Фотография профиля\"\n          />\n          <img\n            onClick={onEditAvatar}\n            className=\"profile__avatar-edit\"\n            src={Pen}\n            alt=\"Значек редактирования\"\n          />\n        </div>\n        <div className=\"profile__profile-info\">\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\n          <button\n            onClick={onEditProfile}\n            type=\"button\"\n            className=\"profile__edit-button\"\n          ></button>\n          <p className=\"profile__interests\">{currentUser.about}</p>\n        </div>\n        <button\n          onClick={onEditPlace}\n          type=\"button\"\n          className=\"profile__add-button\"\n        ></button>\n      </section>\n      <section className=\"elements\">\n        <ul className=\"elements__list\">\n          {cards.map((cardElement) => (\n            <Card\n              onDeleteCardPopupOpen={onDeleteCardPopupOpen}\n              setCardDelete={setCardDelete}\n              onCardLike={onCardLike}\n              onCardClick={onCardClick}\n              card={cardElement}\n              key={cardElement._id}\n            />\n          ))}\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","import React from \"react\";\n\nfunction Login({ onLogin }) {\n  const [stateInput, setStateInput] = React.useState({\n    email: \"\",\n    password: \"\",\n  });\n\n  function handleChangeInput(e) {\n    const { name, value } = e.target;\n    setStateInput({ ...stateInput, [name]: value });\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onLogin(stateInput);\n  }\n\n  return (\n    <div className={`formAuth`}>\n      <h2 className={`formAuth__form-name`}>Вход</h2>\n      <form onSubmit={handleSubmit} className={`formAuth__form`} noValidate>\n        <fieldset className=\"formAuth__set\">\n          <label className=\"formAuth__field\">\n            <input\n              type=\"email\"\n              name=\"email\"\n              id=\"email\"\n              placeholder=\"Email\"\n              className=\"formAuth__input\"\n              minLength={2}\n              maxLength={40}\n              value={stateInput.email || \"\"}\n              onChange={handleChangeInput}\n              required\n            />\n            <span className=\"\" id=\"email-error\"></span>\n          </label>\n          <label className=\"formAuth__field\">\n            <input\n              type=\"password\"\n              name=\"password\"\n              id=\"password\"\n              placeholder=\"Пароль\"\n              className=\"formAuth__input\"\n              minLength=\"2\"\n              maxLength=\"200\"\n              value={stateInput.password || \"\"}\n              onChange={handleChangeInput}\n              required\n            />\n            <span className=\"\" id=\"password-error\"></span>\n          </label>\n        </fieldset>\n        <button\n          type=\"submit\"\n          value=\"Отправить на сервер\"\n          className=\"formAuth__button-submit\"\n        >\n          Войти\n        </button>\n      </form>\n    </div>\n  );\n}\n\nexport default Login;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nfunction Register({ onRegister }) {\n  const [stateInput, setStateInput] = React.useState({\n    email: \"\",\n    password: \"\",\n  });\n\n  function handleChangeInput(e) {\n    const { name, value } = e.target;\n    setStateInput({ ...stateInput, [name]: value });\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onRegister(stateInput);\n  }\n\n  return (\n    <div className={`formAuth`}>\n      <h2 className={`formAuth__form-name`}>Регистрация</h2>\n      <form onSubmit={handleSubmit} className={`formAuth__form`} noValidate>\n        <fieldset className=\"formAuth__set\">\n          <label className=\"formAuth__field\">\n            <input\n              type=\"email\"\n              name=\"email\"\n              id=\"email\"\n              placeholder=\"Email\"\n              className=\"formAuth__input\"\n              minLength={2}\n              maxLength={40}\n              value={stateInput.email || \"\"}\n              onChange={handleChangeInput}\n              required\n            />\n            <span className=\"\" id=\"email-error\"></span>\n          </label>\n          <label className=\"formAuth__field\">\n            <input\n              type=\"password\"\n              name=\"password\"\n              id=\"password\"\n              placeholder=\"Пароль\"\n              className=\"formAuth__input\"\n              minLength=\"2\"\n              maxLength=\"200\"\n              value={stateInput.password || \"\"}\n              onChange={handleChangeInput}\n              required\n            />\n            <span className=\"\" id=\"password-error\"></span>\n          </label>\n        </fieldset>\n        <button\n          type=\"submit\"\n          value=\"Отправить на сервер\"\n          className={`formAuth__button-submit`}\n        >\n          Зарегистрироваться\n        </button>\n        <p className={`formAuth__signup`}>\n          Уже зарегистрированны?\n          <Link to=\"/signin\" className={`formAuth__signup-link`}>\n            {\" \"}\n            Войти\n          </Link>\n        </p>\n      </form>\n    </div>\n  );\n}\n\nexport default Register;\n","import React from 'react';\n\nfunction Footer() {\n  return (\n      <footer className=\"footer\">\n        <p className=\"footer__copyright\">&copy; 2020. Mesto Russia</p>\n      </footer>\n    );\n  }\n\nexport default Footer;\n","import React from \"react\";\n\nfunction PopupWithForm({\n  name,\n  isOpen,\n  onClose,\n  title,\n  children,\n  onSubmit,\n  isLoading,\n  buttonSubmitName,\n  buttonSubmitNameDel,\n}) {\n  return (\n    <div className={`popup popup_${name} ${isOpen ? \"popup_opened\" : \"\"}`}>\n      <div className={`popup__container`}>\n        <button\n          onClick={onClose}\n          className={`popup__button-close popup__button_close_${name}`}\n          type=\"button\"\n        ></button>\n        <h2 className={`popup__form-name`}>{title}</h2>\n        <form\n          onSubmit={onSubmit}\n          className={`popup__form`}\n          name={name}\n          noValidate\n        >\n           <fieldset className=\"popup__set\">\n           {children}\n           </fieldset>\n\n          <button\n            type=\"submit\"\n            value=\"Отправить на сервер\"\n            className=\"popup__button popup__button-submit\"\n          >\n            {isLoading\n              ? buttonSubmitNameDel || \"Сохранение...\"\n              : buttonSubmitName}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm.js\";\n\nfunction DeletePlacePopup({ onClose, isOpen, isLoading, onDeleteCard }) {\n  function handleSubmit(e) {\n    e.preventDefault();\n    onDeleteCard();\n  }\n\n  return (\n    <PopupWithForm\n      isOpen={isOpen}\n      isLoading={isLoading}\n      onClose={onClose}\n      buttonSubmitName=\"Да\"\n      buttonSubmitNameDel=\"Удаление...\"\n      name=\"delete-form\"\n      title=\"Вы уверены?\"\n      className=\"popup popup_delete-form\"\n      onSubmit={handleSubmit}\n    ></PopupWithForm>\n  );\n}\n\nexport default DeletePlacePopup;\n","import React from \"react\";\n\nfunction ImagePopup({ card, onClose }) {\n  return (\n    <div className={`popup ${card && \"popup_opened\"}`} id=\"popup-image\">\n      <figure className={`${card ? \"popup__container-image\" : \"\"}`}>\n        <button\n          onClick={onClose}\n          className=\"popup__button-close\"\n          type=\"button\"\n        ></button>\n        <img\n          className=\"popup__image\"\n          src={`${card ? card.link : \"\"}`}\n          alt={card ? card.name : \"\"}\n        />\n        <figcaption className=\"popup__image-title\">{`${\n          card ? card.name : \"\"\n        }`}</figcaption>\n      </figure>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm.js\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\n\nfunction EditProfilePopup({ onClose, isOpen, onUpdateUser, isLoading }) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [stateInput, setStateInput] = React.useState({});\n\n  React.useEffect(() => {\n    const { name, about } = currentUser;\n    setStateInput({ name, about });\n  }, [currentUser, isOpen]);\n\n  function handleChangeInput(e) {\n    const name = e.target.name;\n    const value = e.target.value;\n    setStateInput({ ...stateInput, [name]: value });\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    // Передаём значения управляемых компонентов во внешний обработчик\n    onUpdateUser({\n      name: stateInput.name,\n      about: stateInput.about,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      isLoading={isLoading}\n      buttonSubmitName=\"Обновить\"\n      onSubmit={handleSubmit}\n      onClose={onClose}\n      isOpen={isOpen}\n      name=\"profile-popup\"\n      title=\"Редактировать профиль\"\n    >\n        <label className=\"popup__field\">\n          <input\n            type=\"text\"\n            name=\"name\"\n            id=\"user__name\"\n            placeholder=\"Имя\"\n            className=\"popup__input\"\n            minLength={2}\n            maxLength={40}\n            value={stateInput.name || \"\"}\n            onChange={handleChangeInput}\n            required\n          />\n          <span className=\"popup__input-error\" id=\"user__name-error\"></span>\n        </label>\n        <label className=\"popup-field\">\n          <input\n            type=\"text\"\n            name=\"about\"\n            id=\"about\"\n            placeholder=\"О себе\"\n            className=\"popup__input\"\n            minLength=\"2\"\n            maxLength=\"200\"\n            value={stateInput.about || \"\"}\n            onChange={handleChangeInput}\n            required\n          />\n          <span className=\"popup__input-error\" id=\"about-error\"></span>\n        </label>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm.js\";\n\nfunction EditAvatarPopup({ onClose, isOpen, onUpdateAvatar, isLoading }) {\n  const avatarRef = React.useRef();\n\n  React.useEffect(() => {\n    avatarRef.current.value = \"\";\n  }, [isOpen]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    });\n  }\n  return (\n    <PopupWithForm\n      isLoading={isLoading}\n      buttonSubmitName=\"Обновить\"\n      onSubmit={handleSubmit}\n      onClose={onClose}\n      isOpen={isOpen}\n      name=\"avatar-form\"\n      title=\"Обновить аватар\"\n    >\n        <label className=\"popup__field\">\n          <input\n            ref={avatarRef}\n            type=\"url\"\n            placeholder=\"Ссылка на картинку\"\n            name=\"link\"\n            id=\"linkAvatar\"\n            className=\"popup__input\"\n            required\n          />\n          <span className=\"popup__input-error\" id=\"linkAvatar-error\"></span>\n        </label>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm.js\";\n\nfunction AddPlacePopup({ onClose, isOpen, onAddPlaceSubmit, isLoading }) {\n  const [stateInputs, setStateInputs] = React.useState({});\n\n  React.useEffect(() => {\n    setStateInputs({});\n  }, [isOpen]);\n\n  function handleChangeInput(e) {\n    const {name, value} = e.target;\n    setStateInputs({...stateInputs, [name]: value});\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    // Передаём значения управляемых компонентов во внешний обработчик\n    onAddPlaceSubmit({\n      name: stateInputs.name,\n      link: stateInputs.link,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      onSubmit={handleSubmit}\n      isLoading={isLoading}\n      buttonSubmitName=\"Создать\"\n      onClose={onClose}\n      isOpen={isOpen}\n      name=\"image-form\"\n      title=\"Новое место\"\n    >\n        <label className=\"popup__field\">\n          <input\n            type=\"text\"\n            placeholder=\"Новое место\"\n            name=\"name\"\n            id=\"name\"\n            className=\"popup__input popup__place\"\n            minLength=\"2\"\n            maxLength=\"30\"\n            value={stateInputs.name || ''}\n            onChange={handleChangeInput}\n            required\n          />\n          <span className=\"popup__input-error\" id=\"name-error\"></span>\n        </label>\n        <label className=\"popup__field\">\n          <input\n            type=\"url\"\n            placeholder=\"Ссылка на картинку\"\n            name=\"link\"\n            id=\"link\"\n            className=\"popup__input\"\n            value={stateInputs.link || ''}\n            onChange={handleChangeInput}\n            required\n          />\n          <span className=\"popup__input-error\" id=\"link-error\"></span>\n        </label>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","export default __webpack_public_path__ + \"static/media/RegOk.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/RegErr.df8eddf6.svg\";","import React from \"react\";\nimport RegOk from \"../images/RegOk.svg\";\nimport RegErr from \"../images/RegErr.svg\";\n\nfunction InfoTooltip({ isOpen, onClose, isInfoTooltipOk }) {\n  return (\n    <div className={`popup  ${isOpen ? \"popup_opened\" : \"\"}`}>\n      <div className={`popup__container`}>\n        <button\n          onClick={onClose}\n          className={`popup__button-close-tooltip`}\n          type=\"button\"\n        ></button>\n        <img className={`popup__img-tooltip`} src={isInfoTooltipOk ? RegOk : RegErr} />\n        <h2 className={`popup__title-tooltip`}>{isInfoTooltipOk ? \"Вы успешно зарегистрировались!\" : \"Что-то пошло не так! Попробуйте ещё раз.\"}</h2>\n      </div>\n    </div>\n  );\n}\n\nexport default InfoTooltip;\n","import {options} from './constants.js'\n\n class Api {\n  constructor(options) {\n    this._addressApi = options.addressApi;\n    this._headers = options.headers;\n  }\n\n  _setConfigApi(endOfUrl, param = {\n    headers: this._headers,\n    credentials: 'include',\n  }) {\n    return fetch(`${this._addressApi}${endOfUrl}`, param)\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n      })\n  }\n\n  userInfo() {\n    return this._setConfigApi(\"/users/me\")\n  }\n\n  getInitialCards() {\n    return this._setConfigApi(\"/cards\")\n  }\n\n  editProfile(data) {\n    return this._setConfigApi(\"/users/me\", {\n      method: 'PATCH',\n      headers: this._headers,\n      credentials: 'include',\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about\n      })\n    })\n  }\n\n  addNewCard(data) {\n    return this._setConfigApi(\"/cards\", {\n      method: 'POST',\n      headers: this._headers,\n      credentials: 'include',\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link\n      })\n    })\n  }\n\n  deleteCard(id) {\n    return this._setConfigApi(`/cards/${id}`, {\n      method: 'DELETE',\n      headers: this._headers,\n      credentials: 'include',\n    })\n  }\n\n  putOrRemoveLike(id, isLiked) {\n    return this._setConfigApi(`/cards/likes/${id}`, {\n    method: isLiked ? 'DELETE' : 'PUT',\n      headers: this._headers,\n      credentials: 'include',\n    })\n  }\n\n  editAvatar(data) {\n    return this._setConfigApi(\"/users/me/avatar\", {\n      method: 'PATCH',\n      headers: this._headers,\n      credentials: 'include',\n      body: JSON.stringify({\n        avatar: data.avatar,\n      })\n    })\n  }\n}\n\nexport const api = new Api(options);\n","export const options = {\n  addressApi: 'https://api.charlesmickey.nomoredomains.monster',\n  headers: {\n    Accept: \"application/json\",\n    \"Content-Type\": \"application/json\"\n  }\n};\n","export const BASE_URL = \"https://api.charlesmickey.nomoredomains.monster\";\n\nexport const checkResponse = (response) => {\n  return response.ok\n    ? response.json()\n    : Promise.reject(\n        new Error(`Ошибка ${response.status}: ${response.statusText}`)\n      );\n};\n\nconst headers = {\n  Accept: \"application/json\",\n  \"Content-Type\": \"application/json\",\n};\n\nexport const register = ({ password, email }) => {\n  return fetch(`${BASE_URL}/signup`, {\n    headers,\n    method: \"POST\",\n    credentials: \"include\",\n    body: JSON.stringify({ password, email }),\n  }).then((res) => checkResponse(res));\n};\n\nexport const authorize = ({ password, email }) => {\n  return fetch(`${BASE_URL}/signin`, {\n    headers,\n    method: \"POST\",\n    credentials: \"include\",\n    body: JSON.stringify({ password, email }),\n  }).then((res) => checkResponse(res));\n};\n\nexport const getContent = () => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: \"GET\",\n    credentials: \"include\",\n  }).then((res) => checkResponse(res));\n};\n","import React from \"react\";\nimport { Redirect, Route } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      {() =>\n        props.isLoggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\n      }\n    </Route>\n  );\n};\n\nexport default ProtectedRoute;\n","import React from \"react\";\nimport { Route, Switch, useHistory, Redirect } from \"react-router-dom\";\nimport Header from \"./Header.js\";\nimport Main from \"./Main.js\";\nimport Login from \"./Login.js\";\nimport Register from \"./Register\";\nimport Footer from \"./Footer.js\";\nimport DeletePlacePopup from \"./DeletePlacePopup.js\";\nimport ImagePopup from \"./ImagePopup.js\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport InfoTooltip from \"./InfoTooltip\";\nimport { api } from \"../utils/api.js\";\nimport * as apiAuth from \"../utils/apiAuth.js\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\nimport ProtectedRoute from \"./ProtectedRoute\";\n\nfunction App() {\n  const history = useHistory();\n\n  const [isLoggedIn, setIsLoggedIn] = React.useState(false);\n\n  const [isInfoTooltip, setIsInfoTooltip] = React.useState(false);\n  const [isInfoTooltipOk, setIsInfoTooltipOk] = React.useState(false);\n  const [isUserEmail, setIsUserEmail] = React.useState({});\n\n  const [cards, setCards] = React.useState([]);\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] =\n    React.useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] =\n    React.useState(false);\n  const [cardDelete, setCardDelete] = React.useState({});\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isDeletePlacePopupOpen, setIsDeletePlacePopupOpen] =\n    React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState(null);\n  const [isLoading, setIsLoading] = React.useState(false);\n\n  // React.useEffect(() => {\n  //   api\n  //     .userInfo()\n  //     .then((res) => {\n  //       setCurrentUser(res);\n  //     })\n  //     .catch((err) => {\n  //       console.log(`${err}`);\n  //     });\n  // }, []);\n\n  function handleAddPlaceSubmit(newCard) {\n    setIsLoading(true);\n    api\n      .addNewCard(newCard)\n      .then((newCard) => {\n        closeAllPopups();\n        setCards([newCard, ...cards]);\n      })\n      .catch((err) => {\n        console.log(`${err}`);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  function handleUpdateAvatar(newAvatar) {\n    setIsLoading(true);\n    api\n      .editAvatar(newAvatar)\n      .then((newAvatar) => {\n        setCurrentUser(newAvatar);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(`${err}`);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  function handleUpdateUser(data) {\n    setIsLoading(true);\n    api\n      .editProfile(data)\n      .then((data) => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(`${err}`);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleDeletePlaceClick() {\n    setIsDeletePlacePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function closeAllPopups() {\n    setIsDeletePlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsInfoTooltip(false);\n    setSelectedCard(null);\n  }\n\n  // React.useEffect(() => {\n  //   api\n  //     .getInitialCards()\n  //     .then((res) => {\n  //       setCards(res);\n  //     })\n  //     .catch((err) => {\n  //       console.log(`${err}`);\n  //     });\n  // }, []);\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((like) => like._id === currentUser._id);\n\n    api\n      .putOrRemoveLike(card._id, isLiked)\n      .then((newCard) => {\n        setCards((cards) =>\n          cards.map((cardItem) =>\n            cardItem._id === card._id ? newCard : cardItem\n          )\n        );\n      })\n      .catch((err) => {\n        console.log(`${err}`);\n      });\n  }\n\n  function handleCardDelete() {\n    setIsLoading(true);\n    api\n      .deleteCard(cardDelete._id)\n      .then(() => {\n        closeAllPopups();\n        setCards((cards) =>\n          cards.filter((cardItem) =>\n            cardItem._id === cardDelete._id ? false : true\n          )\n        );\n      })\n      .catch((err) => {\n        console.log(`${err}`);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  function closePopupEsc(e) {\n    if (e.key === \"Escape\") {\n      closeAllPopups();\n    }\n  }\n\n  function closePopupClickOnOverlay(e) {\n    if (e.target.matches(\".popup\")) {\n      closeAllPopups();\n    }\n  }\n  const tokenCheck = () => {\n    const jwt = localStorage.getItem(\"token\");\n    if (!jwt) {\n      return;\n    }\n    apiAuth\n      .getContent()\n      .then(({ data: { email } }) => {\n        setIsUserEmail({ email });\n        setIsLoggedIn(true);\n        return api.userInfo().then((res) => {\n          setCurrentUser(res);\n          return api.getInitialCards().then((res) => {\n            setCards(res);\n          });\n        });\n      })\n      .catch((err) => {\n        console.log(`${err}`);\n      });\n  };\n\n  React.useEffect(() => {\n    tokenCheck();\n  }, []);\n\n  React.useEffect(() => {\n    if (isLoggedIn) {\n      history.push(\"/\");\n    }\n  }, [isLoggedIn]);\n\n  function onRegister(data) {\n    return apiAuth\n      .register(data)\n      .then(() => {\n        setIsInfoTooltipOk(true);\n        setIsInfoTooltip(true);\n        setIsLoggedIn(true);\n        history.push(\"/\");\n      })\n      .catch((err) => {\n        setIsInfoTooltip(true);\n        console.log(`${err}`);\n      });\n  }\n\n  function onLogin({ email, password }) {\n    return apiAuth\n      .authorize({ email, password })\n      .then(({ token }) => {\n        setIsUserEmail({ email });\n        setIsInfoTooltipOk(true);\n        setIsLoggedIn(true);\n        return api.userInfo().then((res) => {\n          setCurrentUser(res);\n          return api\n            .getInitialCards()\n            .then((res) => {\n              setCards(res);\n            })\n            .then(() => {\n              localStorage.setItem(\"token\", token);\n              history.push(\"/\");\n            });\n        });\n      })\n      .catch((err) => {\n        setIsInfoTooltip(true);\n        console.log(`${err}`);\n      });\n  }\n\n  function onLogOut() {\n    setIsInfoTooltipOk(false);\n    setIsLoggedIn(false);\n    localStorage.removeItem(\"token\");\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div\n        className=\"page\"\n        onKeyDown={closePopupEsc}\n        tabIndex=\"0\"\n        onClick={closePopupClickOnOverlay}\n      >\n        <Header\n          email={isUserEmail.email}\n          onLogOut={onLogOut}\n          isLoggedIn={isLoggedIn}\n        />\n        <Switch>\n          <Route path=\"/signup\">\n            <Register onRegister={onRegister} />\n          </Route>\n          <Route path=\"/signin\">\n            <Login onLogin={onLogin} />\n          </Route>\n          <ProtectedRoute\n            exact\n            path=\"/\"\n            component={Main}\n            isLoggedIn={isLoggedIn}\n            cards={cards}\n            onCardLike={handleCardLike}\n            setCardDelete={setCardDelete}\n            onEditAvatar={handleEditAvatarClick}\n            onEditProfile={handleEditProfileClick}\n            onDeleteCardPopupOpen={handleDeletePlaceClick}\n            onEditPlace={handleAddPlaceClick}\n            onCardClick={handleCardClick}\n          />\n        </Switch>\n        <Route>\n          {isLoggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/signin\" />}\n        </Route>\n        {isLoggedIn && <Footer />}\n        <EditAvatarPopup\n          isLoading={isLoading}\n          onUpdateAvatar={handleUpdateAvatar}\n          onClose={closeAllPopups}\n          isOpen={isEditAvatarPopupOpen}\n        />\n        <EditProfilePopup\n          isLoading={isLoading}\n          onUpdateUser={handleUpdateUser}\n          onClose={closeAllPopups}\n          isOpen={isEditProfilePopupOpen}\n        />\n        <AddPlacePopup\n          isLoading={isLoading}\n          onAddPlaceSubmit={handleAddPlaceSubmit}\n          onClose={closeAllPopups}\n          isOpen={isAddPlacePopupOpen}\n        />\n        <DeletePlacePopup\n          isLoading={isLoading}\n          onDeleteCard={handleCardDelete}\n          onClose={closeAllPopups}\n          isOpen={isDeletePlacePopupOpen}\n        />\n        <ImagePopup onClose={closeAllPopups} card={selectedCard} />\n        <InfoTooltip\n          onClose={closeAllPopups}\n          isOpen={isInfoTooltip}\n          isInfoTooltipOk={isInfoTooltipOk}\n        />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom'\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}